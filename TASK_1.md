# Задача 2. Реализовать FfmpegExtractAudioHandler

**Статус**: ⏭️ Требует реализации

Это вторая задача, которая добавляет функцию извлечения аудиодорожки из видео
с помощью утилиты FFmpeg.

---

## Описание

Создать handler `FfmpegExtractAudioHandler`, который:
1. Берет путь к видео из контекста (добавлено `ReadFileHandler`)
2. Вызывает утилиту `ffmpeg` для извлечения аудиодорожки
3. Сохраняет аудиофайл во временную папку в формате WAV
4. Добавляет путь к аудио в контекст с ключом `audio_path`

Это второй handler в пайплайне, запускаемый после `ReadFileHandler`.

---

## Требования

### Знакомство с FFmpeg

Перед реализацией изучи:
- Что такое FFmpeg и для чего он нужен
- Как установить FFmpeg на своей ОС
- Как использовать FFmpeg из командной строки для извлечения аудио
- Как запускать внешние команды из Python через `subprocess`

### Технические требования

**Handler должен**:
- Наследовать `BaseHandler` (как в первой задаче)
- Принимать в конструкторе параметр `temp_dir: str = "temp"` с правильной типизацией
- Извлекать аудиодорожку из видео в формате WAV
- Обработать ошибки:
  - FFmpeg не установлен
  - Видеофайл не содержит аудиодорожку
  - Видеофайл повреждён
- Добавлять в контекст ключ `audio_path` со строковым путём к сохранённому WAV-файлу
- Вывести информацию о выполнении через `print()`

### Типизация

⚠️ **ОБЯЗАТЕЛЬНО**: Полная типизация всех параметров и возвращаемых значений!

```python
# ✅ ПРАВИЛЬНО
def __init__(self, temp_dir: str = "temp") -> None:
    pass

def handle(self, context: dict[str, Any]) -> dict[str, Any]:
    pass

# ❌ НЕПРАВИЛЬНО
def __init__(self, temp_dir: str = "temp"):
    pass

def handle(self, context):
    pass
```



---

## ✅ Контрольный список

- [ ] Файл `handlers/ffmpeg_extract_audio_handler.py` создан
- [ ] Класс `FfmpegExtractAudioHandler` наследует `BaseHandler`
- [ ] Конструктор имеет правильную сигнатуру `temp_dir: str = "temp"` с `-> None`
- [ ] Метод `handle()` имеет типы `dict[str, Any]` → `dict[str, Any]`
- [ ] Handler извлекает аудио в формате WAV
- [ ] Ошибки FFmpeg обработаны (не установлен, видео повреждено и т.д.)
- [ ] Контекст дополняется ключом `audio_path`
- [ ] Есть вывод через `print()` о выполнении
- [ ] Обновлен файл `handlers/__init__.py` с импортом `FfmpegExtractAudioHandler`
- [ ] Handler работает после `ReadFileHandler`
