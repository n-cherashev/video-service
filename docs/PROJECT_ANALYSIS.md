# Video-Service: –ü–æ–ª–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –ø—Ä–æ–µ–∫—Ç–∞

## üìã –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ |
|----------|----------|
| **–ù–∞–∑–≤–∞–Ω–∏–µ** | video-service |
| **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ** | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ –≤–∏–¥–µ–æ –¥–ª—è –ø–æ–∏—Å–∫–∞ viral-–º–æ–º–µ–Ω—Ç–æ–≤ |
| **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** | DAG Pipeline (Directed Acyclic Graph) |
| **–Ø–∑—ã–∫** | Python 3.12 |
| **–ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ RAM** | ~15 GB |
| **–¢–µ—Å—Ç–æ–≤–æ–µ –≤–∏–¥–µ–æ** | 116 –º–∏–Ω—É—Ç (6961 —Å–µ–∫), 277 MB |
| **–í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏** | 385 —Å–µ–∫ (~6.4 –º–∏–Ω) |
| **–°–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ** | 1:18 (6.4 –º–∏–Ω –æ–±—Ä–∞–±–æ—Ç–∫–∏ –Ω–∞ 116 –º–∏–Ω –≤–∏–¥–µ–æ) |

---

## üîÑ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ Pipeline

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                              DAG EXECUTOR                                    ‚îÇ
‚îÇ  –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö handlers —á–µ—Ä–µ–∑ ThreadPoolExecutor      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                    ‚îÇ
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ                               ‚îÇ                               ‚îÇ
    ‚ñº                               ‚ñº                               ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                 ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Layer 1 ‚îÇ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂  ‚îÇ   Layer 2   ‚îÇ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂ ‚îÇ   Layer 3   ‚îÇ
‚îÇ  Init   ‚îÇ                  ‚îÇ    Meta     ‚îÇ                 ‚îÇ  Parallel   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                 ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                                                    ‚îÇ
                                    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
                                    ‚îÇ               ‚îÇ               ‚îÇ
                                    ‚ñº               ‚ñº               ‚ñº
                              ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                              ‚îÇ  FFmpeg  ‚îÇ   ‚îÇ  Motion  ‚îÇ   ‚îÇ  Scene   ‚îÇ
                              ‚îÇ Extract  ‚îÇ   ‚îÇ Analysis ‚îÇ   ‚îÇ Detect   ‚îÇ
                              ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                    ‚îÇ
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ                               ‚îÇ                               ‚îÇ
    ‚ñº                               ‚ñº                               ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                 ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Audio   ‚îÇ                 ‚îÇ  YAMNet  ‚îÇ                   ‚îÇ Whisper  ‚îÇ
‚îÇ Features ‚îÇ                 ‚îÇ Laughter ‚îÇ                   ‚îÇ   STT    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                 ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
    ‚îÇ                                                             ‚îÇ
    ‚ñº                                                             ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                                               ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Audio   ‚îÇ                                               ‚îÇSentiment ‚îÇ
‚îÇ  Events  ‚îÇ                                               ‚îÇ Analysis ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                                               ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                    ‚îÇ
                                    ‚ñº
                            ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                            ‚îÇ   FUSION     ‚îÇ
                            ‚îÇ  Timeline    ‚îÇ
                            ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                    ‚îÇ
                                    ‚ñº
                            ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                            ‚îÇ  Candidate   ‚îÇ
                            ‚îÇ  Selection   ‚îÇ
                            ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                    ‚îÇ
                                    ‚ñº
                            ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                            ‚îÇ    Viral     ‚îÇ
                            ‚îÇ   Moments    ‚îÇ
                            ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                    ‚îÇ
                                    ‚ñº
                            ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                            ‚îÇ   Chapter    ‚îÇ
                            ‚îÇ   Builder    ‚îÇ
                            ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## ‚è±Ô∏è –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —ç—Ç–∞–ø–æ–≤

### –°–≤–æ–¥–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

| Layer | Handlers | –í—Ä–µ–º—è | % –æ—Ç –æ–±—â–µ–≥–æ | –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ—Å—Ç—å |
|-------|----------|-------|-------------|----------------|
| 1 | ReadFileHandler | 0.00s | 0% | ‚ùå |
| 2 | VideoMetaHandler | 0.03s | 0% | ‚ùå |
| 3 | FFmpeg + Motion + Scene | **61.28s** | **16%** | ‚úÖ |
| 4 | Audio + YAMNet + **STT** | **311.94s** | **82%** | ‚úÖ |
| 5 | Events + Sentiment + Humor | 5.30s | 1.4% | ‚úÖ |
| 6 | FusionTimelineHandler | 0.05s | 0% | ‚ùå |
| 7 | CandidateSelectionHandler | 0.09s | 0% | ‚ùå |
| 8 | ViralMomentsHandler | 2.25s | 0.6% | ‚ùå |
| 9 | ChapterBuilderHandler | 0.02s | 0% | ‚ùå |
| **TOTAL** | | **380.95s** | **100%** | |

### üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô BOTTLENECK: Layer 4 (82% –≤—Ä–µ–º–µ–Ω–∏!)

```
Layer 4 = 311.94 —Å–µ–∫—É–Ω–¥
‚îú‚îÄ‚îÄ SpeechToTextHandler (Whisper) ‚âà 280-300s (–æ—Å–Ω–æ–≤–Ω–æ–π –≤–∏–Ω–æ–≤–Ω–∏–∫!)
‚îú‚îÄ‚îÄ LaughterDetectionYamnetHandler ‚âà 8-10s
‚îî‚îÄ‚îÄ AudioFeaturesHandler ‚âà 4-5s
```

**–ü—Ä–∏—á–∏–Ω–∞:** Whisper —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ CPU –≤–º–µ—Å—Ç–æ CUDA:
```
‚ö†Ô∏è CUDA requested but not available, falling back to CPU
üì± Using device: cpu, compute_type: int8
```

---

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –ø–æ —ç—Ç–∞–ø–∞–º

### Layer 1: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|-----------|------------|------------|
| ReadFileHandler | Python pathlib | –ß—Ç–µ–Ω–∏–µ —Ñ–∞–π–ª–∞, –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è |

### Layer 2: –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –≤–∏–¥–µ–æ
| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|-----------|------------|------------|
| VideoMetaHandler | OpenCV (cv2) | –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ FPS, –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏, —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è |

### Layer 3: –ë–∞–∑–æ–≤—ã–π –∞–Ω–∞–ª–∏–∑ (–ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ)
| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|-----------|------------|------------|
| FFmpegExtractHandler | FFmpeg | –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∞—É–¥–∏–æ –≤ WAV |
| MotionAnalysisFrameDiffHandler | OpenCV | –ê–Ω–∞–ª–∏–∑ –¥–≤–∏–∂–µ–Ω–∏—è —á–µ—Ä–µ–∑ frame diff |
| SceneDetectionHandler | PySceneDetect | –î–µ—Ç–µ–∫—Ü–∏—è —Å–º–µ–Ω—ã —Å—Ü–µ–Ω |

**–î–µ—Ç–∞–ª–∏:**
- Motion analysis: 6962 —Ç–æ—á–∫–∏ (1 —Ç–æ—á–∫–∞/—Å–µ–∫)
- Scene detection: 171 —Å—Ü–µ–Ω–∞ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∞
- Auto-downscale –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### Layer 4: ML-–∞–Ω–∞–ª–∏–∑ (–ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ) ‚Äî BOTTLENECK
| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è | –ú–æ–¥–µ–ª—å | Device |
|-----------|------------|--------|--------|
| AudioFeaturesHandler | librosa | - | CPU |
| LaughterDetectionYamnetHandler | TensorFlow Hub | YAMNet | CPU |
| SpeechToTextHandler | faster-whisper | whisper-base | CPU ‚ö†Ô∏è |

**–í—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:**
- Audio features: 69612 frames @ 16kHz
- Laughter: 6962 —Ç–æ—á–µ–∫, 3 —Å –¥–µ—Ç–µ–∫—Ü–∏–µ–π —Å–º–µ—Ö–∞
- STT: 1691 —Å–µ–≥–º–µ–Ω—Ç–æ–≤, 38,055 —Å–∏–º–≤–æ–ª–æ–≤, —è–∑—ã–∫: ru

### Layer 5: NLP-–∞–Ω–∞–ª–∏–∑ (–ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ)
| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|-----------|------------|------------|
| AudioEventsHandler | NumPy | –î–µ—Ç–µ–∫—Ü–∏—è –≥—Ä–æ–º–∫–∏—Ö –∑–≤—É–∫–æ–≤ |
| SpeechQualityHandler | NumPy | SNR, stability, silence ratio |
| SentimentAnalysisHandler | transformers (BERT) | –ê–Ω–∞–ª–∏–∑ —Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ |
| HumorDetectionHandler | Keyword matching | –î–µ—Ç–µ–∫—Ü–∏—è —é–º–æ—Ä–∞ (—É–ø—Ä–æ—â—ë–Ω–Ω—ã–π) |

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
- Audio events: 3 loud events
- Speech quality: SNR=5.69, stability=0.47
- Sentiment: 1691 —Ç–æ—á–µ–∫
- Humor: 0 funny (–ø—Ä–æ–±–ª–µ–º–∞ —Å —Ä—É—Å—Å–∫–∏–º —è–∑—ã–∫–æ–º)

### Layer 6: Fusion
| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|-----------|------------|------------|
| FusionTimelineHandler | NumPy | –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö –º–µ—Ç—Ä–∏–∫ –≤ timeline |

**–§–æ—Ä–º—É–ª–∞ Interest Score:**
```python
interest = (
    0.20 * motion +
    0.18 * audio_loudness +
    0.15 * audio_energy +
    0.15 * abs(sentiment) +
    0.12 * clarity +
    0.10 * speech_probability +
    0.10 * has_loud_sound
)
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** 6962 —Ç–æ—á–∫–∏, mean_interest=0.215, max_interest=0.68

### Layer 7: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤
| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|-----------|------------|------------|
| CandidateSelectionHandler | NumPy | Anchor-based candidate generation |

**–¢–∏–ø—ã anchors:**
| –¢–∏–ø | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ |
|-----|------------|
| scene_boundary | 171 |
| motion_peak | 350 |
| dialogue_transition | 695 |
| interest_peak | 428 |
| audio_peak | 491 |
| sentiment_change | 242 |
| **TOTAL** | **2377** |

**–ì–µ–Ω–µ—Ä–∞—Ü–∏—è:** 23,358 –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤ –∏–∑ 2377 anchors

### Layer 8: –°–∫–æ—Ä–∏–Ω–≥ –∏ –æ—Ç–±–æ—Ä
| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|-----------|------------|------------|
| ViralMomentsHandler | NumPy | Multi-component scoring + diversification |

**7-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω—ã–π —Å–∫–æ—Ä–∏–Ω–≥:**
```python
clip_score = (
    0.25 * hook +      # –ö–∞—á–µ—Å—Ç–≤–æ –ø–µ—Ä–≤—ã—Ö 3 —Å–µ–∫
    0.15 * pace +      # –î–∏–Ω–∞–º–∏–∫–∞/—Ç–µ–º–ø
    0.15 * clarity +   # –ß—ë—Ç–∫–æ—Å—Ç—å —Ä–µ—á–∏
    0.15 * intensity + # –ò–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å
    0.10 * emotion +   # –≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
    0.10 * boundary +  # –ì—Ä–∞–Ω–∏—Ü—ã —Å—Ü–µ–Ω
    0.10 * momentum    # –ù–∞—Ä–∞—Å—Ç–∞–Ω–∏–µ –∏–Ω—Ç–µ—Ä–µ—Å–∞
)
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** 8 viral clips –∏–∑ 13,693 scored candidates

### Layer 9: –ì–ª–∞–≤—ã
| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|-----------|------------|------------|
| ChapterBuilderHandler | Python | –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ —Å—Ü–µ–Ω–∞–º |

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** 10 –≥–ª–∞–≤

---

## üìä –ê–Ω–∞–ª–∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### –ù–∞–π–¥–µ–Ω–Ω—ã–µ Viral Clips (8 —à—Ç—É–∫)

| # | –í—Ä–µ–º—è | –î–ª–∏–Ω–∞ | Score | Hook | Pace | Clarity | Anchor |
|---|-------|-------|-------|------|------|---------|--------|
| 1 | 11:28-12:28 | 60s | 0.549 | 0.68 | 0.05 | 0.54 | audio_peak |
| 2 | 12:09-12:54 | 45s | 0.555 | 0.64 | 0.05 | 0.61 | interest_peak |
| 3 | 14:34-15:34 | 60s | 0.545 | 0.63 | 0.05 | 0.59 | motion_peak |
| 4 | 15:26-16:26 | 60s | 0.530 | 0.58 | 0.06 | 0.62 | interest_peak |
| 5 | 1:18:37-1:19:22 | 45s | 0.530 | 0.62 | 0.04 | 0.62 | scene_boundary |
| 6 | 1:30:52-1:31:27 | 35s | **0.566** | **0.72** | 0.11 | 0.59 | motion_peak |
| 7 | 1:47:09-1:47:54 | 45s | 0.552 | 0.65 | 0.07 | 0.62 | motion_peak |
| 8 | 1:47:40-1:48:40 | 60s | 0.539 | 0.65 | 0.06 | 0.59 | interest_peak |

### –ü—Ä–æ–±–ª–µ–º—ã –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö

1. **–ù–∏–∑–∫–∏–π —Ä–∞–∑–±—Ä–æ—Å scores** (0.53-0.57) ‚Äî –≤—Å–µ –∫–ª–∏–ø—ã –ø–æ—Ö–æ–∂–∏ –ø–æ –∫–∞—á–µ—Å—Ç–≤—É
2. **Humor = 0** ‚Äî –¥–µ—Ç–µ–∫—Ç–æ—Ä –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞
3. **Laughter = 3** ‚Äî –æ—á–µ–Ω—å –º–∞–ª–æ –ø—Ä–∏ threshold 0.3
4. **Overlap groups** ‚Äî –∫–ª–∏–ø—ã 1-2 –∏ 7-8 –ø–µ—Ä–µ—Å–µ–∫–∞—é—Ç—Å—è

---

## üíæ –ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤

### RAM: ~15 GB

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –ü—Ä–∏–º–µ—Ä–Ω–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ |
|-----------|----------------------|
| Whisper model (base) | ~1.5 GB |
| YAMNet model | ~0.5 GB |
| TensorFlow runtime | ~2-3 GB |
| Sentiment model (BERT) | ~1.5 GB |
| Audio –≤ –ø–∞–º—è—Ç–∏ (WAV) | ~2 GB (–¥–ª—è 116 –º–∏–Ω) |
| OpenCV frames buffer | ~2-3 GB |
| NumPy arrays (timeline) | ~1 GB |
| Python overhead | ~2-3 GB |
| **TOTAL** | **~15 GB** |

### GPU: –ù–ï –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø ‚ö†Ô∏è

```
Device set to use cpu
‚ö†Ô∏è CUDA requested but not available, falling back to CPU
```

---

## üöÄ –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –ø–æ —É–ª—É—á—à–µ–Ω–∏—é

### 1. –ö–†–ò–¢–ò–ß–ù–û: –í–∫–ª—é—á–∏—Ç—å CUDA –¥–ª—è Whisper

**–ü—Ä–æ–±–ª–µ–º–∞:** STT –∑–∞–Ω–∏–º–∞–µ—Ç 82% –≤—Ä–µ–º–µ–Ω–∏ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ CPU

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –£–¥–∞–ª–∏—Ç—å —Ç–µ–∫—É—â–∏–π torch
pip uninstall torch torchvision torchaudio

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å CUDA
pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu121
```

**–û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç:** –£—Å–∫–æ—Ä–µ–Ω–∏–µ STT –≤ 5-10 —Ä–∞–∑ (—Å 300s –¥–æ 30-60s)

### 2. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–∞–º—è—Ç–∏

| –ü—Ä–æ–±–ª–µ–º–∞ | –†–µ—à–µ–Ω–∏–µ |
|----------|---------|
| –í—Å–µ –º–æ–¥–µ–ª–∏ –≤ –ø–∞–º—è—Ç–∏ | Lazy loading ‚Äî –∑–∞–≥—Ä—É–∂–∞—Ç—å –ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é |
| Audio –≤ RAM | Streaming processing —á–µ—Ä–µ–∑ librosa |
| Timeline 7000 —Ç–æ—á–µ–∫ | –£–º–µ–Ω—å—à–∏—Ç—å step –¥–æ 0.5s –¥–ª—è –∫–æ—Ä–æ—Ç–∫–∏—Ö –≤–∏–¥–µ–æ |

**–ö–æ–¥:**
```python
class LazyModelLoader:
    def __init__(self):
        self._model = None

    @property
    def model(self):
        if self._model is None:
            self._model = self._load_model()
        return self._model

    def unload(self):
        self._model = None
        gc.collect()
```

### 3. –£–ª—É—á—à–∏—Ç—å –¥–µ—Ç–µ–∫—Ü–∏—é —é–º–æ—Ä–∞ –¥–ª—è —Ä—É—Å—Å–∫–æ–≥–æ

**–ü—Ä–æ–±–ª–µ–º–∞:** `humor_count = 0`

**–†–µ—à–µ–Ω–∏—è:**
1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ruBERT –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
2. –î–æ–±–∞–≤–∏—Ç—å —Ä—É—Å—Å–∫–∏–µ –º–∞—Ä–∫–µ—Ä—ã —é–º–æ—Ä–∞
3. –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å LLM (GPT-4) –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞

```python
RUSSIAN_HUMOR_MARKERS = [
    "—Ö–∞—Ö–∞", "–∞—Ö–∞—Ö", "–ª–æ–ª", "—Ä–∂—É", "—É–≥–∞—Ä", "–ø—Ä–∏–∫–æ–ª",
    "—Å–º–µ—à–Ω–æ", "–æ—Ä—É", "üòÇ", "ü§£", "–∂–µ—Å—Ç—å", "–∫–∞–ø–µ—Ü"
]
```

### 4. Batch processing –¥–ª—è –¥–ª–∏–Ω–Ω—ã—Ö –≤–∏–¥–µ–æ

**–ü—Ä–æ–±–ª–µ–º–∞:** 15GB RAM –¥–ª—è 2-—á–∞—Å–æ–≤–æ–≥–æ –≤–∏–¥–µ–æ

**–†–µ—à–µ–Ω–∏–µ:** –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –≤–∏–¥–µ–æ —á–∞–Ω–∫–∞–º–∏ –ø–æ 10-15 –º–∏–Ω—É—Ç

```python
def process_in_chunks(video_path, chunk_duration=600):
    """–û–±—Ä–∞–±–æ—Ç–∫–∞ –≤–∏–¥–µ–æ —á–∞–Ω–∫–∞–º–∏ –ø–æ 10 –º–∏–Ω—É—Ç."""
    duration = get_video_duration(video_path)
    results = []

    for start in range(0, int(duration), chunk_duration):
        end = min(start + chunk_duration, duration)
        chunk_result = process_chunk(video_path, start, end)
        results.append(chunk_result)

        # –û—Å–≤–æ–±–æ–∂–¥–∞–µ–º –ø–∞–º—è—Ç—å –º–µ–∂–¥—É —á–∞–Ω–∫–∞–º–∏
        gc.collect()
        torch.cuda.empty_cache()

    return merge_results(results)
```

### 5. –£–ª—É—á—à–∏—Ç—å Whisper –º–æ–¥–µ–ª—å

| –ú–æ–¥–µ–ª—å | –†–∞–∑–º–µ—Ä | –ö–∞—á–µ—Å—Ç–≤–æ | –°–∫–æ—Ä–æ—Å—Ç—å |
|--------|--------|----------|----------|
| tiny | 39M | –ù–∏–∑–∫–æ–µ | –ë—ã—Å—Ç—Ä–æ |
| **base** | 74M | –°—Ä–µ–¥–Ω–µ–µ | **–¢–µ–∫—É—â–∞—è** |
| small | 244M | –•–æ—Ä–æ—à–µ–µ | –ú–µ–¥–ª–µ–Ω–Ω–æ |
| medium | 769M | –û—Ç–ª–∏—á–Ω–æ–µ | –û—á–µ–Ω—å –º–µ–¥–ª–µ–Ω–Ω–æ |
| large-v3 | 1.5GB | –õ—É—á—à–µ–µ | –ö—Ä–∞–π–Ω–µ –º–µ–¥–ª–µ–Ω–Ω–æ |

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** `small` –Ω–∞ GPU –¥–∞—Å—Ç –ª—É—á—à–µ–µ –∫–∞—á–µ—Å—Ç–≤–æ –±–µ–∑ –ø–æ—Ç–µ—Ä–∏ —Å–∫–æ—Ä–æ—Å—Ç–∏

### 6. –î–æ–±–∞–≤–∏—Ç—å LLM-—Ä–µ—Ñ–∞–π–Ω–º–µ–Ω—Ç

**–ò–¥–µ—è:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å GPT-4/Claude –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Ç–æ–ø-20 –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤

```python
async def llm_refine_candidates(candidates: List[Clip], transcript: str):
    prompt = f"""
    –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π —ç—Ç–∏ —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã –≤–∏–¥–µ–æ –∏ –æ—Ü–µ–Ω–∏ –∏—Ö viral-–ø–æ—Ç–µ–Ω—Ü–∏–∞–ª:

    –¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ç: {transcript}

    –ö–∞–Ω–¥–∏–¥–∞—Ç—ã:
    {format_candidates(candidates)}

    –û—Ü–µ–Ω–∏ –∫–∞–∂–¥—ã–π –ø–æ –∫—Ä–∏—Ç–µ—Ä–∏—è–º:
    1. Hook (–∑–∞—Ü–µ–ø–∫–∞ –≤ –ø–µ—Ä–≤—ã–µ 3 —Å–µ–∫)
    2. –≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
    3. –ó–∞–≤–µ—Ä—à—ë–Ω–Ω–æ—Å—Ç—å –º—ã—Å–ª–∏
    4. Viral-–ø–æ—Ç–µ–Ω—Ü–∏–∞–ª
    """

    response = await openai.chat.completions.create(
        model="gpt-4",
        messages=[{"role": "user", "content": prompt}]
    )
    return parse_llm_scores(response)
```

### 7. –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã –∫ –∞–Ω–∞–ª–∏–∑—É –≤–∏–¥–µ–æ

#### A. Multimodal AI (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
- **Gemini 1.5 Pro** ‚Äî –∞–Ω–∞–ª–∏–∑ –≤–∏–¥–µ–æ –Ω–∞–ø—Ä—è–º—É—é
- **GPT-4V** ‚Äî –∞–Ω–∞–ª–∏–∑ –∫–ª—é—á–µ–≤—ã—Ö –∫–∞–¥—Ä–æ–≤
- **Claude 3.5** ‚Äî –∞–Ω–∞–ª–∏–∑ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ç–∞ + —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤

#### B. –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏
- **VideoMAE** ‚Äî self-supervised video understanding
- **TimeSformer** ‚Äî temporal attention –¥–ª—è –≤–∏–¥–µ–æ
- **Whisper large-v3** ‚Äî –ª—É—á—à–∞—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è

#### C. –ö–æ–º–º–µ—Ä—á–µ—Å–∫–∏–µ API
- **AssemblyAI** ‚Äî —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è + sentiment
- **Twelve Labs** ‚Äî –ø–æ–∏—Å–∫ –º–æ–º–µ–Ω—Ç–æ–≤ –≤ –≤–∏–¥–µ–æ
- **Runway** ‚Äî AI video analysis

### 8. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è scoring formula

**–¢–µ–∫—É—â–∞—è –ø—Ä–æ–±–ª–µ–º–∞:** –í—Å–µ scores –≤ —É–∑–∫–æ–º –¥–∏–∞–ø–∞–∑–æ–Ω–µ 0.53-0.57

**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å –Ω–µ–ª–∏–Ω–µ–π–Ω—ã–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è

```python
def enhanced_scoring(components: Dict[str, float]) -> float:
    # –ë–∞–∑–æ–≤—ã–π –≤–∑–≤–µ—à–µ–Ω–Ω—ã–π —Å–∫–æ—Ä
    base = sum(w * v for w, v in components.items())

    # –ë–æ–Ω—É—Å –∑–∞ —ç–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
    extremes_bonus = sum(0.05 for v in components.values() if v > 0.8)

    # –®—Ç—Ä–∞—Ñ –∑–∞ —Å–ª–∞–±—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
    weak_penalty = sum(0.03 for v in components.values() if v < 0.3)

    # –°—Ç–µ–ø–µ–Ω–Ω–æ–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –¥–ª—è —Ä–∞–∑–±—Ä–æ—Å–∞
    enhanced = np.power(base, 0.85)

    return np.clip(enhanced + extremes_bonus - weak_penalty, 0, 1)
```

---

## üìà Roadmap —É–ª—É—á—à–µ–Ω–∏–π

### Phase 1: Quick Wins (1-2 –¥–Ω—è)
- [ ] –ò—Å–ø—Ä–∞–≤–∏—Ç—å CUDA –¥–ª—è Whisper
- [ ] –£–≤–µ–ª–∏—á–∏—Ç—å whisper –º–æ–¥–µ–ª—å –¥–æ `small`
- [ ] –î–æ–±–∞–≤–∏—Ç—å —Ä—É—Å—Å–∫–∏–µ –º–∞—Ä–∫–µ—Ä—ã —é–º–æ—Ä–∞

### Phase 2: Optimization (1 –Ω–µ–¥–µ–ª—è)
- [ ] Lazy loading –º–æ–¥–µ–ª–µ–π
- [ ] Chunk processing –¥–ª—è –¥–ª–∏–Ω–Ω—ã—Ö –≤–∏–¥–µ–æ
- [ ] –£–ª—É—á—à–∏—Ç—å scoring formula

### Phase 3: Advanced (2-3 –Ω–µ–¥–µ–ª–∏)
- [ ] LLM refinement (GPT-4)
- [ ] Multimodal analysis (Gemini)
- [ ] Web UI –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### Phase 4: Production (1 –º–µ—Å—è—Ü)
- [ ] Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è
- [ ] API endpoint
- [ ] –û—á–µ—Ä–µ–¥—å –∑–∞–¥–∞—á (Celery/RQ)
- [ ] –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

---

## üî¨ –î–ª—è –∞–Ω–∞–ª–∏–∑–∞ –≤ –¥—Ä—É–≥–æ–π –Ω–µ–π—Ä–æ—Å–µ—Ç–∏

### –ö–ª—é—á–µ–≤—ã–µ –≤–æ–ø—Ä–æ—Å—ã –¥–ª—è GPT-4/Claude:

1. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è pipeline:** –ö–∞–∫ —É–º–µ–Ω—å—à–∏—Ç—å –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ RAM —Å 15GB –¥–æ 8GB –±–µ–∑ –ø–æ—Ç–µ—Ä–∏ –∫–∞—á–µ—Å—Ç–≤–∞?

2. **Scoring formula:** –ö–∞–∫–∏–µ –≤–µ—Å–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã –¥–ª—è viral-–∫–æ–Ω—Ç–µ–Ω—Ç–∞?

3. **–†—É—Å—Å–∫–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç:** –ö–∞–∫ —É–ª—É—á—à–∏—Ç—å –¥–µ—Ç–µ–∫—Ü–∏—é —é–º–æ—Ä–∞ –∏ —ç–º–æ—Ü–∏–π –≤ —Ä—É—Å—Å–∫–æ—è–∑—ã—á–Ω–æ–º –≤–∏–¥–µ–æ?

4. **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã:** –ö–∞–∫–∏–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã –∫ video understanding —Å—Ç–æ–∏—Ç —Ä–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å?

5. **Benchmarking:** –ö–∞–∫ –æ—Ü–µ–Ω–∏—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö viral-–º–æ–º–µ–Ω—Ç–æ–≤?

### –î–∞–Ω–Ω—ã–µ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞:

```json
{
  "pipeline_stats": {
    "total_time": 385,
    "video_duration": 6961,
    "ratio": "1:18",
    "ram_usage": "15GB",
    "gpu_used": false
  },
  "bottleneck": {
    "layer": 4,
    "time": 312,
    "percentage": 82,
    "cause": "Whisper STT on CPU"
  },
  "results": {
    "viral_clips": 8,
    "candidates_generated": 23358,
    "candidates_scored": 13693,
    "score_range": [0.53, 0.57],
    "humor_detected": 0,
    "laughter_detected": 3
  }
}
```

---

## üìù –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**Video-service** ‚Äî —ç—Ç–æ –º–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –≤–∏–¥–µ–æ, –Ω–æ —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–º–∏ –ø—Ä–æ–±–ª–µ–º–∞–º–∏:

1. **82% –≤—Ä–µ–º–µ–Ω–∏** —Ç—Ä–∞—Ç–∏—Ç—Å—è –Ω–∞ STT –∏–∑-–∑–∞ —Ä–∞–±–æ—Ç—ã –Ω–∞ CPU
2. **15GB RAM** ‚Äî —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
3. **Humor detection** –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞
4. **–£–∑–∫–∏–π —Ä–∞–∑–±—Ä–æ—Å scores** –∑–∞—Ç—Ä—É–¥–Ω—è–µ—Ç –≤—ã–±–æ—Ä –ª—É—á—à–∏—Ö –∫–ª–∏–ø–æ–≤

**–ì–ª–∞–≤–Ω—ã–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –ò—Å–ø—Ä–∞–≤–∏—Ç—å CUDA –¥–ª—è Whisper ‚Äî —ç—Ç–æ –¥–∞—Å—Ç 5-10x —É—Å–∫–æ—Ä–µ–Ω–∏–µ.

---

*–î–æ–∫—É–º–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω: 27 –¥–µ–∫–∞–±—Ä—è 2025*
*Video-service v0.1.0*
